{% extends 'base.html.twig' %}

{% block title %}Ici on flex{% endblock %}

{% block body %}

  <div class=" ml-32 bg-cover bg-gradient-to-r from-purple-700 to-purple-900 w-full min-h-screen flex flex-wrap justify-center items-center  ">
  <div class=" backdrop w-3/5 bg-white bg-opacity-10 rounded p-3 text-white shadow-lg flex flex-col items-center">
    <h1 class="text-center text-5xl">Envie de flex?</h1>
    <a class=" shadow-lg rounded bg-purple-900 pt-3 pb-3 mt-10 text-center w-2/6 text-center " href="{{ path("post_new")}}"> Post ici !</a>
</div>

    {% for post in posts %}
        <div class=" mr-34 backdrop w-3/5 bg-white bg-opacity-10 rounded p-3 text-white shadow-lg">
        <!-- header -->
        <div class="w-full mb-3 pb-3 border-b border-1 border-white flex justify-between">
            <h3 class="text-xl font-semibold text-shadow">{{post.title}}</h3>
            {% if app.user.id == post.author.id or is_granted("ROLE_ADMIN")  %}
            <div class="flex">
              <a class="mr-6" href="{{ path("post_edit", {id: post.id})}}">Modif</a>
              <a href="{{ path("post_delete", {id: post.id})}}">delete</a>
            </div>
              
            {% endif %}
            
        </div>
        <!-- body -->
        <div>
            <p class="mb-3 tracking-wide text-base text-shadow ">
            {{post.content|raw}}
            </p>
            <a href="{{ path("post_flex", {id : post.id}) }}" class="backdrop bg-purple-800 shadow-lg mt-12  px-3 py-1.5 rounded focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-40 hover:bg-opacity-10 text-lg">
            total flex :{{post.flexPoint}}
            </a>
        </div>
        </div>
    {% endfor %}
  </div>
{% endblock %}
